{"ast":null,"code":"import _classCallCheck from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/AppLogin.js\";\nimport React, { Component } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport Login from \"./views/aa_login/Login\";\nimport Home from \"./views/aa_login/Home\";\nimport Profile from \"./views/aa_login/Profile\";\nimport BoardUser from \"./views/aa_login/BoardUser\";\nimport BoardModerator from \"./views/aa_login/BoardModerator\";\nimport BoardAdmin from \"./views/aa_login/BoardAdmin\";\nimport { logout } from \"./store/auth\";\nimport EventBus from \"./common/EventBus\";\nvar AppLogin = /*#__PURE__*/function (_Component) {\n  _inherits(AppLogin, _Component);\n  function AppLogin(props) {\n    var _this;\n    _classCallCheck(this, AppLogin);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppLogin).call(this, props));\n    _this.state = {\n      showFarmView: false,\n      showAdminBoard: false\n    };\n    _this.logOut = _this.logOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(AppLogin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var _useSelector = useSelector(function (state) {\n          return state.auth;\n        }),\n        currentUser = _useSelector.user;\n      if (currentUser) {\n        this.setState({\n          showModeratorBoard: currentUser.roles.includes(\"ROLE_MODERATOR\"),\n          showAdminBoard: currentUser.roles.includes(\"ROLE_ADMIN\")\n        });\n      } else {\n        this.setState({\n          showModeratorBoard: false,\n          showAdminBoard: false\n        });\n      }\n      EventBus.on(\"logout\", function () {\n        _this2.logOut();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      EventBus.remove(\"logout\");\n    }\n  }, {\n    key: \"logOut\",\n    value: function logOut() {\n      this.dispatch(logout());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _useSelector2 = useSelector(function (state) {\n          return state.auth;\n        }),\n        currentUser = _useSelector2.user;\n      var _this$state = this.state,\n        showModeratorBoard = _this$state.showFarmView,\n        showAdminBoard = _this$state.showAdminBoard;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        className: \"navbar navbar-expand navbar-dark bg-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navbar-nav ml-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/profile\",\n        className: \"nav-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, currentUser.username)), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/login\",\n        className: \"nav-link\",\n        onClick: this.logOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, \"LogOut\"))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navbar-nav ml-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        className: \"nav-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"nav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/register\",\n        className: \"nav-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, \"Sign Up\")))));\n    }\n  }]);\n  return AppLogin;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    orders: state.orders,\n    shippingAddresses: state.shippingAddresses,\n    customers: state.customers,\n    invoices: state.invoices,\n    orderline: state.orderline,\n    products: state.products\n  };\n};\nexport default connect(mapStateToProps)(AppLogin);","map":{"version":3,"names":["React","Component","useDispatch","useSelector","BrowserRouter","Router","Routes","Route","Link","connect","Login","Home","Profile","BoardUser","BoardModerator","BoardAdmin","logout","EventBus","AppLogin","props","state","showFarmView","showAdminBoard","logOut","bind","auth","currentUser","user","setState","showModeratorBoard","roles","includes","on","remove","dispatch","username","mapStateToProps","orders","shippingAddresses","customers","invoices","orderline","products"],"sources":["/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/AppLogin.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport Login from \"./views/aa_login/Login\";\nimport Home from \"./views/aa_login/Home\";\nimport Profile from \"./views/aa_login/Profile\";\nimport BoardUser from \"./views/aa_login/BoardUser\";\nimport BoardModerator from \"./views/aa_login/BoardModerator\";\nimport BoardAdmin from \"./views/aa_login/BoardAdmin\";\n\nimport { logout } from \"./store/auth\";\n\nimport EventBus from \"./common/EventBus\";\n\nclass AppLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showFarmView: false,\n      showAdminBoard: false\n    };\n\n    this.logOut = this.logOut.bind(this);\n  }\n\n  componentDidMount() {\n    const { user: currentUser } = useSelector((state) => state.auth);\n\n    if (currentUser) {\n      this.setState({\n        showModeratorBoard: currentUser.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: currentUser.roles.includes(\"ROLE_ADMIN\")\n      });\n    } else {\n      this.setState({\n        showModeratorBoard: false,\n        showAdminBoard: false\n      });\n    }\n\n    EventBus.on(\"logout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\");\n  }\n\n  logOut() {\n    this.dispatch(logout());\n  }\n\n  render() {\n    const { user: currentUser } = useSelector((state) => state.auth);\n    const { showFarmView: showModeratorBoard, showAdminBoard } = this.state;\n\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          \n          {/* <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/home\"} className=\"nav-link\">\n                Home\n              </Link>\n            </li>\n\n            {showModeratorBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/mod\"} className=\"nav-link\">\n                  Moderator Board\n                </Link>\n              </li>\n            )}\n\n            {showAdminBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/admin\"} className=\"nav-link\">\n                  Admin Board\n                </Link>\n              </li>\n            )}\n\n            {currentUser && (\n              <li className=\"nav-item\">\n                <Link to={\"/user\"} className=\"nav-link\">\n                  User\n                </Link>\n              </li>\n            )}\n          </div> */}\n\n          {currentUser ? (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/profile\"} className=\"nav-link\">\n                  {currentUser.username}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <a href=\"/login\" className=\"nav-link\" onClick={this.logOut}>\n                  LogOut\n                </a>\n              </li>\n            </div>\n          ) : (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/login\"} className=\"nav-link\">\n                  Login\n                </Link>\n              </li>\n\n              <li className=\"nav-item\">\n                <Link to={\"/register\"} className=\"nav-link\">\n                  Sign Up\n                </Link>\n              </li>\n            </div>\n          )}\n        </nav>\n\n        {/* <div className=\"container mt-3\">\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/home\" element={<Home />} />\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/profile\" element={<Profile />} />\n            <Route path=\"/user\" element={<BoardUser />} />\n            <Route path=\"/mod\" element={<BoardModerator />} />\n            <Route path=\"/admin\" element={<BoardAdmin />} />\n          </Routes>\n        </div> */}\n      </div>\n  );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n      auth: state.auth,\n      orders: state.orders,\n      shippingAddresses: state.shippingAddresses,\n      customers: state.customers,\n      invoices: state.invoices,\n      orderline: state.orderline,\n      products: state.products\n    };\n  };\nexport default connect(mapStateToProps)(AppLogin);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}