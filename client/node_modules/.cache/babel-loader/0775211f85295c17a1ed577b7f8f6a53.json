{"ast":null,"code":"import _classCallCheck from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { login } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n  function Login(props) {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      loading: false\n    };\n    _this.handleLogin = _this.handleLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(clearMessage());\n    }\n  }, {\n    key: \"handleLogin\",\n    value: function handleLogin(formValue) {\n      var _this2 = this;\n      var username = formValue.username,\n        password = formValue.password;\n      this.setState({\n        loading: true\n      });\n      this.props.dispatch(login({\n        username: username,\n        password: password\n      })).unwrap().then(function () {\n        _this2.props.history.push(\"/profile\");\n        window.location.reload();\n      }).catch(function () {\n        _this2.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        isLoggedIn = _this$props.isLoggedIn,\n        message = _this$props.message;\n      if (isLoggedIn) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/profile\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 14\n          }\n        });\n      }\n      var initialValues = {\n        username: \"\",\n        password: \"\"\n      };\n      var validationSchema = Yup.object().shape({\n        username: Yup.string().required(\"This field is required!\"),\n        password: Yup.string().required(\"This field is required!\")\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 login-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card card-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n        alt: \"profile-img\",\n        className: \"profile-img-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Formik, {\n        initialValues: initialValues,\n        validationSchema: validationSchema,\n        onSubmit: this.handleLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"username\",\n        type: \"text\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"username\",\n        component: \"div\",\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"password\",\n        type: \"password\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"password\",\n        component: \"div\",\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        disabled: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, this.state.loading && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"spinner-border spinner-border-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }\n      }, \"Login\")))))), message && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, message)));\n    }\n  }]);\n  return Login;\n}(React.Component);\nfunction mapStateToProps(state) {\n  var isLoggedIn = state.auth.isLoggedIn;\n  var message = state.message.message;\n  return {\n    isLoggedIn: state.auth,\n    message: state.message\n  };\n}\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"names":["React","connect","Navigate","Formik","Field","Form","ErrorMessage","Yup","login","clearMessage","Login","props","state","loading","handleLogin","bind","dispatch","formValue","username","password","setState","unwrap","then","history","push","window","location","reload","catch","isLoggedIn","message","initialValues","validationSchema","object","shape","string","required","Component","mapStateToProps","auth"],"sources":["/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js"],"sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { login } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch(clearMessage());\n  }\n\n  handleLogin(formValue) {\n    const { username, password } = formValue;\n    this.setState({ loading: true });\n    this.props\n      .dispatch(login({ username, password }))\n      .unwrap()\n      .then(() => {\n        this.props.history.push(\"/profile\");\n        window.location.reload();\n      })\n      .catch(() => {\n        this.setState({ loading: false });\n      });\n  }\n\n  render() {\n    const { isLoggedIn, message } = this.props;\n\n    if (isLoggedIn) {\n      return <Navigate to=\"/profile\" />;\n    }\n\n    const initialValues = {\n      username: \"\",\n      password: \"\"\n    };\n\n    const validationSchema = Yup.object().shape({\n      username: Yup.string().required(\"This field is required!\"),\n      password: Yup.string().required(\"This field is required!\")\n    });\n\n    return (\n      <div className=\"col-md-12 login-form\">\n        <div className=\"card card-container\">\n          <img\n            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n            alt=\"profile-img\"\n            className=\"profile-img-card\"\n          />\n          <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={this.handleLogin}\n          >\n            <Form>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <Field name=\"username\" type=\"text\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"username\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <Field name=\"password\" type=\"password\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"password\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-block\"\n                  disabled={this.state.loading}\n                >\n                  {this.state.loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span>Login</span>\n                </button>\n              </div>\n            </Form>\n          </Formik>\n        </div>\n\n        {message && (\n          <div className=\"form-group\">\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {message}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { isLoggedIn } = state.auth;\n  const { message } = state.message;\n  return {\n    isLoggedIn: state.auth,\n    message: state.message\n  };\n}\n\nexport default connect(mapStateToProps)(Login);"],"mappings":"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"},"metadata":{},"sourceType":"module"}