{"ast":null,"code":"import _slicedToArray from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { login } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\nvar Login = function Login() {\n  var navigate = useNavigate();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    isLoggedIn = _useSelector.isLoggedIn;\n  var _useSelector2 = useSelector(function (state) {\n      return state.message;\n    }),\n    message = _useSelector2.message;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(clearMessage());\n  }, [dispatch]);\n  var initialValues = {\n    username: \"\",\n    password: \"\"\n  };\n  var validationSchema = Yup.object().shape({\n    username: Yup.string().required(\"This field is required!\"),\n    password: Yup.string().required(\"This field is required!\")\n  });\n  var handleLogin = function handleLogin(formValue) {\n    var username = formValue.username,\n      password = formValue.password;\n    setLoading(true);\n    dispatch(login({\n      username: username,\n      password: password\n    })).unwrap().then(function () {\n      navigate(\"/profile\");\n      window.location.reload();\n    }).catch(function () {\n      setLoading(false);\n    });\n  };\n  if (isLoggedIn) {\n    return /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/profile\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 login-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n    alt: \"profile-img\",\n    className: \"profile-img-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Field, {\n    name: \"username\",\n    type: \"text\",\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"username\",\n    component: \"div\",\n    className: \"alert alert-danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    type: \"password\",\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"password\",\n    component: \"div\",\n    className: \"alert alert-danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block\",\n    disabled: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, loading && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spinner-border spinner-border-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Login\")))))), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, message)));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Navigate","useNavigate","Formik","Field","Form","ErrorMessage","Yup","login","clearMessage","Login","navigate","loading","setLoading","state","auth","isLoggedIn","message","dispatch","initialValues","username","password","validationSchema","object","shape","string","required","handleLogin","formValue","unwrap","then","window","location","reload","catch"],"sources":["/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js"],"sourcesContent":["import React, { useState, useEffect  } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { login } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\n\nconst Login = () => {\n  let navigate = useNavigate();\n\n  const [loading, setLoading] = useState(false);\n\n  const { isLoggedIn } = useSelector((state) => state.auth);\n  const { message } = useSelector((state) => state.message);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(clearMessage());\n  }, [dispatch]);\n\n  const initialValues = {\n    username: \"\",\n    password: \"\",\n  };\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required(\"This field is required!\"),\n    password: Yup.string().required(\"This field is required!\"),\n  });\n\n  const handleLogin = (formValue) => {\n    const { username, password } = formValue;\n    setLoading(true);\n\n    dispatch(login({ username, password }))\n      .unwrap()\n      .then(() => {\n        navigate(\"/profile\");\n        window.location.reload();\n      })\n      .catch(() => {\n        setLoading(false);\n      });\n  };\n\n  if (isLoggedIn) {\n    return <Navigate to=\"/profile\" />;\n  }\n\n  return (\n    <div className=\"col-md-12 login-form\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleLogin}\n        >\n          <Form>\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <Field name=\"username\" type=\"text\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"username\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <Field name=\"password\" type=\"password\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"password\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\n                {loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span>Login</span>\n              </button>\n            </div>\n          </Form>\n        </Formik>\n      </div>\n\n      {message && (\n        <div className=\"form-group\">\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {message}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}