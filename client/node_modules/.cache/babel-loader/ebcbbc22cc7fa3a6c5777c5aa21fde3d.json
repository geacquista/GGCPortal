{"ast":null,"code":"import _classCallCheck from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Register.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { register } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\nvar Register = /*#__PURE__*/function (_Component) {\n  _inherits(Register, _Component);\n  function Register(props) {\n    var _this;\n    _classCallCheck(this, Register);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n    _this.state = {\n      successful: false\n    };\n    _this.handleRegister = _this.handleRegister.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(clearMessage());\n    }\n  }, {\n    key: \"handleRegister\",\n    value: function handleRegister(formValue) {\n      var _this2 = this;\n      var username = formValue.username,\n        email = formValue.email,\n        password = formValue.password;\n      this.setState({\n        successful: false\n      });\n      this.props.dispatch(register({\n        username: username,\n        email: email,\n        password: password\n      })).unwrap().then(function () {\n        _this2.setState({\n          successful: true\n        });\n      }).catch(function () {\n        _this2.setState({\n          successful: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var message = this.props.message;\n      var initialValues = {\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      };\n      var validationSchema = Yup.object().shape({\n        username: Yup.string().test(\"len\", \"The username must be between 3 and 20 characters.\", function (val) {\n          return val && val.toString().length >= 3 && val.toString().length <= 20;\n        }).required(\"This field is required!\"),\n        email: Yup.string().email(\"This is not a valid email.\").required(\"This field is required!\"),\n        password: Yup.string().test(\"len\", \"The password must be between 6 and 40 characters.\", function (val) {\n          return val && val.toString().length >= 6 && val.toString().length <= 40;\n        }).required(\"This field is required!\")\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 signup-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card card-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Formik, {\n        initialValues: initialValues,\n        validationSchema: validationSchema,\n        onSubmit: this.handleRegister,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, !this.state.successful && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"username\",\n        type: \"text\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"username\",\n        component: \"div\",\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"email\",\n        type: \"email\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"email\",\n        component: \"div\",\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n        name: \"password\",\n        type: \"password\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"password\",\n        component: \"div\",\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, \"Sign Up\")))))));\n    }\n  }]);\n  return Register;\n}(Component);","map":{"version":3,"names":["React","Component","connect","Formik","Field","Form","ErrorMessage","Yup","register","clearMessage","Register","props","state","successful","handleRegister","bind","dispatch","formValue","username","email","password","setState","unwrap","then","catch","message","initialValues","validationSchema","object","shape","string","test","val","toString","length","required"],"sources":["/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Register.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { register } from \"../../store/auth\";\nimport { clearMessage } from \"../../store/message\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      successful: false,\n    };\n\n    this.handleRegister = this.handleRegister.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch(clearMessage());\n  }\n\n  handleRegister(formValue) {\n    const { username, email, password } = formValue;\n\n    this.setState({ successful: false });\n\n    this.props\n      .dispatch(register({ username, email, password }))\n      .unwrap()\n      .then(() => {\n        this.setState({ successful: true });\n      })\n      .catch(() => {\n        this.setState({ successful: false });\n      });\n  }\n\n  render() {\n    const { message } = this.props;\n\n    const initialValues = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n    };\n\n    const validationSchema = Yup.object().shape({\n      username: Yup.string()\n        .test(\n          \"len\",\n          \"The username must be between 3 and 20 characters.\",\n          (val) =>\n            val &&\n            val.toString().length >= 3 &&\n            val.toString().length <= 20\n        )\n        .required(\"This field is required!\"),\n      email: Yup.string()\n        .email(\"This is not a valid email.\")\n        .required(\"This field is required!\"),\n      password: Yup.string()\n        .test(\n          \"len\",\n          \"The password must be between 6 and 40 characters.\",\n          (val) =>\n            val &&\n            val.toString().length >= 6 &&\n            val.toString().length <= 40\n        )\n        .required(\"This field is required!\"),\n    });\n\n    return (\n      <div className=\"col-md-12 signup-form\">\n        <div className=\"card card-container\">\n\n          <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={this.handleRegister}\n          >\n            <Form>\n              {!this.state.successful && (\n                <div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"username\">Username</label>\n                    <Field\n                      name=\"username\"\n                      type=\"text\"\n                      className=\"form-control\"\n                    />\n                    <ErrorMessage\n                      name=\"username\"\n                      component=\"div\"\n                      className=\"alert alert-danger\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <Field\n                      name=\"email\"\n                      type=\"email\"\n                      className=\"form-control\"\n                    />\n                    <ErrorMessage\n                      name=\"email\"\n                      component=\"div\"\n                      className=\"alert alert-danger\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <Field\n                      name=\"password\"\n                      type=\"password\"\n                      className=\"form-control\"\n                    />\n                    <ErrorMessage\n                      name=\"password\"\n                      component=\"div\"\n                      className=\"alert alert-danger\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary btn-block\"\n                    >\n                      Sign Up\n                    </button>\n                  </div>\n                </div>\n              )}\n            </Form>\n            </Formik>\n            </div>\n          </div>\n    )\n  }          \n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}