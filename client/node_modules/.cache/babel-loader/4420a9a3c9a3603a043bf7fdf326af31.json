{"ast":null,"code":"import _classCallCheck from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js\";\nimport React, { Component } from \"react\";\nimport '../../assets/style/login.css';\nimport { Navigate } from \"react-router-dom\";\nimport { login } from \"../../store/auth\";\nimport authService from \"../../services/auth.service\";\nimport { connect } from \"react-redux\";\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n  function Login(props) {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.handleUsernameChange = function (event) {\n      _this.setState({\n        email: event.target.value\n      });\n    };\n    _this.handlePasswordChange = function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    };\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n        email = _this$state.email,\n        password = _this$state.password; // code to authenticate user and log in\n      _this.props.login({\n        email: email,\n        password: password\n      }).then(function (response) {\n        console.log(response);\n        _this.setState({\n          loggedIn: true\n        });\n      }).catch(function (e) {\n        _this.setState({\n          error: true\n        });\n        console.log(e);\n      });\n    };\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      loggedIn: false,\n      error: false\n    };\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n        email = _this$state2.email,\n        password = _this$state2.password,\n        loggedIn = _this$state2.loggedIn,\n        error = _this$state2.error;\n      console.log(loggedIn);\n      if (loggedIn && !error) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 14\n          }\n        });\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        name: \"email\",\n        value: email,\n        onChange: this.handleUsernameChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        value: password,\n        onChange: this.handlePasswordChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, \"Log in\")), error && /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, \"Invalid email or password\"));\n    }\n  }]);\n  return Login;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.users,\n    auth: state.auth\n  };\n};\nexport default connect(mapStateToProps, {\n  login: login\n})(Login);","map":{"version":3,"names":["React","Component","Navigate","login","authService","connect","Login","props","handleUsernameChange","event","setState","email","target","value","handlePasswordChange","password","handleSubmit","preventDefault","state","then","response","console","log","loggedIn","catch","e","error","mapStateToProps","users","auth"],"sources":["/Users/gabrielleacquista/Documents/GitHub/GGCPortal/client/src/views/aa_login/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport '../../assets/style/login.css'\nimport { Navigate } from \"react-router-dom\";\nimport {login} from \"../../store/auth\"\nimport authService from \"../../services/auth.service\";\nimport { connect } from \"react-redux\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loggedIn: false,\n      error: false,\n    };\n  }\n\n\n  handleUsernameChange = (event) => {\n    this.setState({ email: event.target.value });\n  };\n\n  handlePasswordChange = (event) => {\n    this.setState({ password: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // code to authenticate user and log in\n\n    this.props.login({email,password})\n      .then((response) => {\n        console.log(response)\n        this.setState({ loggedIn: true });\n\n    })\n    .catch((e) => {\n      this.setState({ error: true });\n      console.log(e);\n    });\n  };\n\n  render() {\n    const { email, password, loggedIn, error } = this.state;\n\n    console.log(loggedIn)\n\n    if ( loggedIn&& !error) {\n      return <Navigate to=\"/dashboard\"/>;\n    }\n\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleSubmit}>\n          <div>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"text\"\n              id=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleUsernameChange}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handlePasswordChange}\n            />\n          </div>\n          <button type=\"submit\" \n          >Log in</button>\n        </form>\n        {error && <p>Invalid email or password</p>}\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users,\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, { login})(Login);\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}